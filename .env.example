# ============================================================
# QHSE APP - Configuration Environnement
# ============================================================
# Copy this file to .env.local and fill with your actual values
# NEVER commit .env.local to Git
# 
# Pour Vercel: configurer ces variables dans Vercel Dashboard
# ============================================================

# ------------------------------------------------------------
# MODE DEMO (obligatoire)
# ------------------------------------------------------------
# true  = Mode démo avec données mockées (pas de Supabase)
# false = Mode production avec Supabase réel
# 
# ⚠️ EN PRODUCTION VERCEL: DOIT ÊTRE false
NEXT_PUBLIC_DEMO_MODE=true

# ------------------------------------------------------------
# SUPABASE (Production uniquement)
# ------------------------------------------------------------
# ⚠️ Requis uniquement si NEXT_PUBLIC_DEMO_MODE=false
# Obtenir sur: https://supabase.com/dashboard/project/_/settings/api

# URL du projet Supabase
NEXT_PUBLIC_SUPABASE_URL=

# Clé publique anon (safe pour client-side)
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# ------------------------------------------------------------
# SUPABASE SERVICE ROLE (NOUVEAU - Étape 06 Admin Users)
# ------------------------------------------------------------
# ⚠️ CRITIQUE: Clé service_role Supabase (SERVER-SIDE UNIQUEMENT)
# 
# Utilisation: API Routes création/modification/suppression utilisateurs
# Sécurité: NE JAMAIS exposer côté client (pas de NEXT_PUBLIC_)
#           NE JAMAIS committer avec vraie valeur
# 
# Récupérer: Supabase Dashboard → Settings → API → service_role secret
# 
# ⚠️ CETTE CLÉ BYPASS TOUTES LES RLS POLICIES
# Utiliser UNIQUEMENT dans API Routes Next.js (app/api/*)
SUPABASE_SERVICE_ROLE_KEY=

# ------------------------------------------------------------
# NOTES IMPORTANTES
# ------------------------------------------------------------
# 1. DB MAP validée: voir docs/implementation.md (ÉTAPE 0-BIS)
# 2. Noms SQL français: statut (pas status), date_realisee (pas completed_at)
# 3. ENUMs: statut_audit = 'planifie' | 'en_cours' | 'termine' | 'annule'
# 4. apiWrapper gère automatiquement le switch demo/production
# 5. NOUVEAU (Étape 06): SUPABASE_SERVICE_ROLE_KEY requis pour gestion users
#    Voir: docs/Conception/ETAPE_06/LIVRAISON_ADMIN_USERS.md

# ------------------------------------------------------------
# CONFIGURATION DÉPLOIEMENT
# ------------------------------------------------------------

# Développement local (.env.local):
# 1. Copier: cp .env.example .env.local
# 2. Remplir NEXT_PUBLIC_SUPABASE_URL
# 3. Remplir NEXT_PUBLIC_SUPABASE_ANON_KEY
# 4. Remplir SUPABASE_SERVICE_ROLE_KEY (pour admin users)
# 5. Définir NEXT_PUBLIC_DEMO_MODE=false
# 6. Démarrer: npm run dev

# Production Vercel:
# 1. Vercel Dashboard → Project → Settings → Environment Variables
# 2. Ajouter NEXT_PUBLIC_SUPABASE_URL (Production, Preview, Development)
# 3. Ajouter NEXT_PUBLIC_SUPABASE_ANON_KEY (Production, Preview, Development)
# 4. Ajouter SUPABASE_SERVICE_ROLE_KEY (Production uniquement)
# 5. Définir NEXT_PUBLIC_DEMO_MODE=false
# 6. Déployer: vercel --prod

